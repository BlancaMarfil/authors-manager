query SearchGoogleBooks(
  $query: String!
  $apiKey: String!
  $startIndex: Int
  $maxResults: Int = 40
) {
  searchGoogleBooks(
    query: $query
    apiKey: $apiKey
    startIndex: $startIndex
    maxResults: $maxResults
  )
    @rest(
      type: "SearchBooks"
      path: "?q=\"{args.query}\"&langRestrict=en&key={args.apiKey}&startIndex={args.startIndex}&maxResults={args.maxResults}"
    ) {
    totalItems
    items @type(name: "GoogleBook") {
      id
      volumeInfo @type(name: "GoogleBookVolumeInfo") {
        title
        authors
        description
        publisher
        publishedDate
        imageLinks @type(name: "GoogleBookImageLinks") {
          smallThumbnail
          thumbnail
          medium
        }
        infoLink
        previewLink
      }
    }
  }
}

query SearchGoogleBooksByAuthor(
  $query: String!
  $apiKey: String!
  $startIndex: Int
  $maxResults: Int = 40
) {
  searchGoogleBooks(
    query: $query
    apiKey: $apiKey
    startIndex: $startIndex
    maxResults: $maxResults
  )
    @rest(
      type: "SearchBooks"
      path: "?q=inauthor%3A\"{args.query}\"&langRestrict=en&key={args.apiKey}&startIndex={args.startIndex}&maxResults={args.maxResults}"
    ) {
    totalItems
    items @type(name: "GoogleBook") {
      id
      volumeInfo @type(name: "GoogleBookVolumeInfo") {
        title
        authors
        description
        publisher
        publishedDate
        imageLinks @type(name: "GoogleBookImageLinks") {
          smallThumbnail
          thumbnail
          medium
        }
        infoLink
        previewLink
      }
    }
  }
}

query SearchGoogleBooksByAuthorSeries(
  $query: String!
  $author: String!
  $apiKey: String!
  $maxResults: Int = 40
) {
  searchGoogleBookAuthorSeries(
    query: $query
    author: $author
    apiKey: $apiKey
    maxResults: $maxResults
  )
    @rest(
      type: "SearchBooks"
      path: "?q=\"{args.query}\"+inauthor%3A\"{args.author}\"&langRestrict=en&key={args.apiKey}&maxResults={args.maxResults}"
    ) {
    totalItems
    items @type(name: "GoogleBook") {
      id
      volumeInfo @type(name: "GoogleBookVolumeInfo") {
        title
        authors
        description
        publisher
        publishedDate
        imageLinks @type(name: "GoogleBookImageLinks") {
          smallThumbnail
          thumbnail
          medium
        }
        infoLink
        previewLink
      }
    }
  }
}

query SearchGoogleBooksByBookId($query: String!) {
  searchSingleGoogleBook(query: $query)
    @rest(type: "GoogleBook", path: "/{args.query}") {
    id
    volumeInfo @type(name: "GoogleBookVolumeInfo") {
      title
      authors
      description
      publisher
      publishedDate
      imageLinks @type(name: "GoogleBookImageLinks") {
        smallThumbnail
        thumbnail
        medium
      }
      infoLink
      previewLink
    }
  }
}
